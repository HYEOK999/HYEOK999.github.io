<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">

    

    
    <title>SkyPrinter-FilterArea | HYEOK999&#39;s Blog</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="git,Web,coding,develop,TIL,algorithm,HTML,CSS,javascript,React,Redux">
    
    <meta name="description" content="Filter 영역 SkyPrinter Ticket Result Filter Area     SkyPrinter 바로가기  목차 Filter 폴더 구조 Filter API 알아보기 -  Poll Session Result - Filter 방식 파악하기 Redux Module 파악하기 session module 오리지널 데이터 스토어 UI용 데이터 스토어">
<meta name="keywords" content="git,Web,coding,develop,TIL,algorithm,HTML,CSS,javascript,React,Redux">
<meta property="og:type" content="article">
<meta property="og:title" content="SkyPrinter-FilterArea">
<meta property="og:url" content="https://hyeok999.github.io/2020/03/13/FilterArea/index.html">
<meta property="og:site_name" content="HYEOK999&#39;s Blog">
<meta property="og:description" content="Filter 영역 SkyPrinter Ticket Result Filter Area     SkyPrinter 바로가기  목차 Filter 폴더 구조 Filter API 알아보기 -  Poll Session Result - Filter 방식 파악하기 Redux Module 파악하기 session module 오리지널 데이터 스토어 UI용 데이터 스토어">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://user-images.githubusercontent.com/31315644/76090338-bb7bb500-5ffe-11ea-8d8e-028dc68b749a.png">
<meta property="og:updated_time" content="2020-03-14T08:24:56.114Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SkyPrinter-FilterArea">
<meta name="twitter:description" content="Filter 영역 SkyPrinter Ticket Result Filter Area     SkyPrinter 바로가기  목차 Filter 폴더 구조 Filter API 알아보기 -  Poll Session Result - Filter 방식 파악하기 Redux Module 파악하기 session module 오리지널 데이터 스토어 UI용 데이터 스토어">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/31315644/76090338-bb7bb500-5ffe-11ea-8d8e-028dc68b749a.png">
    
    <link rel="canonical" href="https://hyeok999.github.io/2020/03/13/filterarea/">
    

    
        <link rel="icon" href="/images/favicon_io/favicon.ico">
    

    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Architects+Daughter&display=swap" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cabin+Sketch&display=swap">
    <link rel="stylesheet" href="https://cdn.rawgit.com/innks/NanumSquareRound/master/nanumsquareround.css">
    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-153647512-1', 'auto');
ga('send', 'pageview');

</script>

    
    


<link rel="alternate" href="/feed.xml" title="HYEOK999's Blog" type="application/atom+xml">
</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">HYEOK999&#39;s Daily Develop</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/">Develop</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/CSS/">CSS</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/GIT/">GIT</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/GraphQL/">GraphQL</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/IT-Event/">IT Event</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Java/">Java</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Javascript/">Javascript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Project/">Project</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/React/">React</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Tips/">Tips</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/TypeScript/">TypeScript</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/">TIL</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/Algorithm-Quiz/">Algorithm & Quiz</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/HTML-CSS/">HTML&CSS</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/Javascript/">Javascript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/Javascript-Preview/">Javascript-Preview</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/React/">React</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/React-Preview/">React-Preview</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/TypeScript/">TypeScript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/TIL/linux/">linux</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/etc/">etc</a></li></ul>
                                    
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="https://about.me/iasg2004" rel="external nofollow noopener noreferrer" target="_blank">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Develop/">Develop</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Develop/Project/">Project</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-FilterArea" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        SkyPrinter-FilterArea
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2020/03/13/FilterArea/" class="article-date">
            <time datetime="2020-03-13T04:16:06.000Z" itemprop="datePublished">2020-03-13</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/CSS/">CSS</a>, <a class="tag-link" href="/tags/HTML/">HTML</a>, <a class="tag-link" href="/tags/React/">React</a>, <a class="tag-link" href="/tags/Redux/">Redux</a>, <a class="tag-link" href="/tags/TIL/">TIL</a>, <a class="tag-link" href="/tags/Web/">Web</a>, <a class="tag-link" href="/tags/algorithm/">algorithm</a>, <a class="tag-link" href="/tags/coding/">coding</a>, <a class="tag-link" href="/tags/develop/">develop</a>, <a class="tag-link" href="/tags/git/">git</a>, <a class="tag-link" href="/tags/javascript/">javascript</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <img width="651" alt="filter" src="https://user-images.githubusercontent.com/31315644/76090338-bb7bb500-5ffe-11ea-8d8e-028dc68b749a.png">

<hr>
<h1 id="Filter-영역"><a href="#Filter-영역" class="headerlink" title="Filter 영역"></a>Filter 영역</h1><blockquote>
<p>SkyPrinter Ticket Result Filter Area </p>
</blockquote>
<br>

<h3 id="SkyPrinter-바로가기"><a href="#SkyPrinter-바로가기" class="headerlink" title="SkyPrinter 바로가기"></a><a href="https://github.com/HYEOK999/skyprinter" rel="external nofollow noopener noreferrer" target="_blank">SkyPrinter 바로가기</a></h3><br>

<h2 id="목차"><a href="#목차" class="headerlink" title="목차"></a>목차</h2><ol>
<li><a href="#b1">Filter 폴더 구조</a></li>
<li><a href="#b2">Filter API 알아보기 -  Poll Session Result -</a></li>
<li><a href="#b3">Filter 방식 파악하기</a></li>
<li><a href="#b4">Redux Module 파악하기</a><ul>
<li><a href="#b5">session module</a><ul>
<li><a href="#b6">오리지널 데이터 스토어</a></li>
<li><a href="#b7">UI용 데이터 스토어</a></li>
<li><a href="#b8">Fiter 옵션 데이터 스토어</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#b9">Saga 함수 작성</a><ul>
<li><a href="#b10">postSession</a></li>
<li><a href="#b11">getSession</a></li>
</ul>
</li>
<li><a href="#b12">filter 옵션</a><ul>
<li><a href="#b13">stop filter</a></li>
<li><a href="#b14">Time filter</a></li>
<li><a href="#b15">Carrier filter</a></li>
</ul>
</li>
</ol>
<hr>
<h3 id="Filter-폴더-구조"><a href="#Filter-폴더-구조" class="headerlink" title="Filter 폴더 구조 "></a>Filter 폴더 구조 <a id="b1"></a></h3><p>/src/components/Main/TicketResult/filter</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /src/components/Main/TicketResult/TicketResultInfo.jsx</span></span><br><span class="line">&lt;StopFilter /&gt;</span><br><span class="line">&lt;TimeFilter /&gt;</span><br><span class="line">&lt;DurationFilter /&gt;</span><br><span class="line">&lt;CarrierFilter /&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>/CarrierFilter.jsx</li>
<li>/DurationFilter.jsx</li>
<li>/TimeFilter.jsx</li>
<li>/StopFilter.jsx</li>
</ul>
<br>

<h3 id="Filter-API-알아보기-Poll-Session-Results"><a href="#Filter-API-알아보기-Poll-Session-Results" class="headerlink" title="Filter API 알아보기 -  Poll Session Results -"></a>Filter API 알아보기 -  Poll Session Results -<a id="b2"></a></h3><p><code>session</code>을 만들고 얻은 <code>session key</code>를 이용하여 <code>Poll</code>을 할 때 파라미터를 통해 필터조건을 줄 수 있습니다.</p>
<p><strong>예제 : 경유 - 직항 / 아시아나 항공 제외</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. Poll Session</span></span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> SESSION_KEY = <span class="string">'6aa0be06-8526-4d52-a5d6-f70e5670046a'</span>;</span><br><span class="line">    <span class="keyword">const</span> POLL_URL = <span class="string">`https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/pricing/uk2/v1.0/<span class="subst">$&#123;SESSION_KEY&#125;</span>`</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> headers = &#123;</span><br><span class="line">      <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span>,</span><br><span class="line">      <span class="string">'X-RapidAPI-Key'</span>: <span class="string">'RAPID_API_KEY'</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 필터 예 , 경유 : 직항 , 항공기 : 아시아나 제외</span></span><br><span class="line">    <span class="keyword">const</span> params = &#123;</span><br><span class="line">      stops: <span class="string">'0'</span>,</span><br><span class="line">      excludeCarriers: <span class="string">'OZ;KE'</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> axios.get(POLL_URL, &#123; </span><br><span class="line">      params,   </span><br><span class="line">      headers </span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.dir(data);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/32444914/74079428-b4eb3380-4a7a-11ea-8059-1bfca77820f3.PNG" alt="img"></p>
<br>

<h3 id="Filter-방식-파악하기"><a href="#Filter-방식-파악하기" class="headerlink" title="Filter 방식 파악하기 "></a>Filter 방식 파악하기 <a id="b3"></a></h3><p> 실제 스카이 스캐너에서는 Poll 데이터가 ‘UpdatesComplete’ 상태가 아닌 경우에도 필터링이 가능합니다. 즉, 프로그레스바가 진행 중일 때도 경유, 항공사, 출발지 - 도착지 시간대 설정이 모두 가능합니다. </p>
<p><img src="https://user-images.githubusercontent.com/31315644/76087540-b5370a00-5ff9-11ea-8a1c-06ae79291a87.jpeg" alt="ProgressBar"></p>
<p>따라서, <code>session</code>은 1개만 만들어지지만 실제로 <code>poll</code>은 2개로 나뉘어서 해야합니다. 그리고 Redux Store에 프로그레스바와 실제 데이터를 담아둘 오리지널 데이터용 <code>Store</code>를 하나 만들고, 나머지 하나는 실제로 보여질 UI 데이터용 <code>Store</code> 하나를 생성합니다. 추가로 각 필터옵션들은 한번 체크 해두면 해제하기 전까지 다른 필터조건과 같이 작용해야만 합니다. 그러므로 필터옵션들도 <code>Redux Store</code>로 관리를 하도록합니다.</p>
<p>즉, 정리하면 다음과 같이 3개의 스토어를 생성해야만 합니다.</p>
<ol>
<li>프로그레스바, 실제 데이터를 담아둘 변하지 않은 오리지널 데이터 스토어</li>
<li>실제 필터를 적용해 화면에 보여질 UI 데이터 스토어</li>
<li>Filter 옵션들을 저장할 스토어</li>
</ol>
<br>

<h3 id="Redux-Module-파악하기"><a href="#Redux-Module-파악하기" class="headerlink" title="Redux Module 파악하기 "></a>Redux Module 파악하기 <a id="b4"></a></h3><p>위에서 필요한 스토어들을 정리해봅니다.</p>
<ul>
<li>오리지널 데이터 스토어</li>
<li>UI용 데이터 스토어</li>
<li>Filter 옵션 데이터 스토어</li>
</ul>
<h4 id="session-module"><a href="#session-module" class="headerlink" title="session module "></a>session module <a id="b5"></a></h4><h5 id="오리지널-데이터-스토어"><a href="#오리지널-데이터-스토어" class="headerlink" title="오리지널 데이터 스토어 "></a>오리지널 데이터 스토어 <a id="b6"></a></h5><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> SET_ALL_RESULT = <span class="string">'skyprinter/session/SET_ALL_RESULT'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> setAllResult = <span class="function"><span class="params">allResult</span> =&gt;</span> (&#123;</span><br><span class="line">  type: SET_ALL_RESULT,</span><br><span class="line">  allResult</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> setAllResult = <span class="function"><span class="params">allResult</span> =&gt;</span> (&#123;</span><br><span class="line">  type: SET_ALL_RESULT,</span><br><span class="line">  allResult</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<br>

<h5 id="UI용-데이터-스토어"><a href="#UI용-데이터-스토어" class="headerlink" title="UI용 데이터 스토어 "></a>UI용 데이터 스토어 <a id="b7"></a></h5><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> SET_POLL_RESULT = <span class="string">'skyprinter/session/SET_POLL_RESULT'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> setPollResult = <span class="function"><span class="params">data</span> =&gt;</span> (&#123;</span><br><span class="line">  type: SET_POLL_RESULT,</span><br><span class="line">  pollResult: data</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> SET_POLL_RESULT:</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">	...state,</span><br><span class="line">	pollResult: &#123;</span><br><span class="line">		...action.pollResult,</span><br><span class="line">		Itineraries: sortedItineraries</span><br><span class="line">	&#125;,</span><br><span class="line">	minDurationItinerary,</span><br><span class="line">	earliestOutboundItinerary,</span><br><span class="line">	cheapestItinerary</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="Fiter-옵션-데이터-스토어"><a href="#Fiter-옵션-데이터-스토어" class="headerlink" title="Fiter 옵션 데이터 스토어 "></a>Fiter 옵션 데이터 스토어 <a id="b8"></a></h5><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> SET_FILTER_OPTION = <span class="string">'skyprinter/session/SET_FILTER_OPTION'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> setFilterOption = <span class="function"><span class="params">filterOption</span> =&gt;</span> (&#123;</span><br><span class="line">  type: SET_FILTER_OPTION,</span><br><span class="line">  filterOption</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> SET_FILTER_OPTION:</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">  	...state,</span><br><span class="line">  	isDirect: <span class="literal">false</span>,</span><br><span class="line">  	filterOption: action.filterOption</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="Saga-함수-작성"><a href="#Saga-함수-작성" class="headerlink" title="Saga 함수 작성 "></a>Saga 함수 작성 <a id="b9"></a></h3><h4 id="postSession"><a href="#postSession" class="headerlink" title="postSession "></a>postSession <a id="b10"></a></h4><p>세션을 만들고 처음 poll을 보낼떄 사용되는 Saga함수입니다.</p>
<p>지속적으로 XHR(비동기) 요청을 해야하기 때문에 Saga함수를 이용하였습니다.</p>
<p>위에서 정의한 <code>setAllResult</code> 와 <code>setPollResult</code>를 사용합니다.</p>
<p>먼저 세션키를 만듦가 동시에 첫 poll을 할 때에는<code>setAllResult</code> 와 <code>setPollResult</code> 모두 스토어에 값을 담아줍니다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span>* <span class="title">postSession</span>(<span class="params">&#123; allInfo &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; culture, places, passenger, datepicker &#125; = allInfo;</span><br><span class="line">  <span class="keyword">const</span> &#123; country, currency, locale &#125; = culture;</span><br><span class="line">  <span class="keyword">const</span> &#123; inBoundId, outBoundId &#125; = places;</span><br><span class="line">  <span class="comment">// children, infants</span></span><br><span class="line">  <span class="keyword">const</span> &#123; adults &#125; = passenger;</span><br><span class="line">  <span class="keyword">const</span> &#123; outboundDate, inboundDate &#125; = datepicker;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> params = &#123;</span><br><span class="line">    locale,</span><br><span class="line">    country,</span><br><span class="line">    currency,</span><br><span class="line">    originPlace: inBoundId + <span class="string">'-sky'</span>,</span><br><span class="line">    destinationPlace: outBoundId + <span class="string">'-sky'</span>,</span><br><span class="line">    outboundDate: TicketService.convertDateToString(outboundDate),</span><br><span class="line">    adults</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (inboundDate)</span><br><span class="line">    params.inboundDate = TicketService.convertDateToString(inboundDate);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 초기화</span></span><br><span class="line">    <span class="keyword">yield</span> put(resetResult());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 세션 생성</span></span><br><span class="line">    <span class="keyword">const</span> &#123; headers &#125; = <span class="keyword">yield</span> call(SessionService.createSession, params);</span><br><span class="line">    <span class="keyword">const</span> locationToArr = headers.location.split(<span class="string">'/'</span>);</span><br><span class="line">    <span class="keyword">const</span> sessionKey = locationToArr[locationToArr.length - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">yield</span> put(setSessionKey(sessionKey));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 2에서 생성한 Session의 상태가 complete될 때까지 poll</span></span><br><span class="line">    <span class="keyword">const</span> filterOption = <span class="keyword">yield</span> select(<span class="function">(<span class="params">&#123; session &#125;</span>) =&gt;</span> session.filterOption);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">yield</span> call(</span><br><span class="line">        SessionService.pollSession,</span><br><span class="line">        sessionKey,</span><br><span class="line">        filterOption</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 프로그래스바 계산</span></span><br><span class="line">      <span class="keyword">const</span> &#123; Agents &#125; = data;</span><br><span class="line">      <span class="keyword">const</span> AllAgents = Agents.length;</span><br><span class="line">      <span class="keyword">const</span> PendingAgents = Agents.filter(</span><br><span class="line">        Agent =&gt; Agent.Status === <span class="string">'UpdatesComplete'</span></span><br><span class="line">      ).length;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> progressNum = (PendingAgents / AllAgents) * <span class="number">100</span>;</span><br><span class="line">      <span class="keyword">yield</span> put(&#123;</span><br><span class="line">        type: SET_PROGRESS_RESULT,</span><br><span class="line">        progress: <span class="built_in">Math</span>.floor(progressNum)</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 4. 세션 로딩시 표시할 티켓 생성</span></span><br><span class="line">      <span class="comment">// all data는 계속 업데이트 해준다</span></span><br><span class="line">      <span class="keyword">yield</span> put(setAllResult(data));</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 4. 세션 로딩이 complete되면 원본을 allResult에 저장한 뒤</span></span><br><span class="line">      <span class="comment">// 5. UI에 표시할 티켓을 가장 최근 적용된 필터로 poll해온다.</span></span><br><span class="line">      <span class="keyword">if</span> (data.Status === <span class="string">'UpdatesComplete'</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> pollResult = <span class="keyword">yield</span> select(<span class="function">(<span class="params">&#123; session &#125;</span>) =&gt;</span> session.pollResult);</span><br><span class="line">        <span class="comment">// status가 complete인데 pollResult의 결과가 없다면</span></span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          !pollResult ||</span><br><span class="line">          !pollResult.Itineraries ||</span><br><span class="line">          !pollResult.Itineraries.length</span><br><span class="line">        ) &#123;</span><br><span class="line">          <span class="keyword">const</span> allResult = <span class="keyword">yield</span> select(<span class="function">(<span class="params">&#123; session &#125;</span>) =&gt;</span> session.allResult);</span><br><span class="line">          <span class="comment">// allResult는 있는 경우</span></span><br><span class="line">          <span class="keyword">if</span> (allResult.Itineraries &amp;&amp; allResult.Itineraries.length) &#123;</span><br><span class="line">            <span class="keyword">yield</span> put(setPollResult(allResult));</span><br><span class="line">            <span class="keyword">yield</span> put(&#123; <span class="attr">type</span>: SET_TICKETS &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">yield</span> put(setFilterOption(&#123; <span class="attr">sortType</span>: <span class="string">'price'</span>, <span class="attr">sortOrder</span>: <span class="string">'asc'</span> &#125;));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">yield</span> put(&#123; <span class="attr">type</span>: POLL_SESSION &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> isPolling = <span class="keyword">yield</span> select(<span class="function">(<span class="params">&#123; session &#125;</span>) =&gt;</span> session.isPolling);</span><br><span class="line">        <span class="keyword">if</span> (!isPolling) <span class="keyword">yield</span> put(&#123; <span class="attr">type</span>: POLL_SESSION &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">yield</span> delay(<span class="number">1500</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.dir(error);</span><br><span class="line">    <span class="keyword">if</span> (error.response.status === <span class="number">400</span>) &#123;</span><br><span class="line">      <span class="keyword">yield</span> put(push(<span class="string">`/error`</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h4 id="getSession"><a href="#getSession" class="headerlink" title="getSession  "></a>getSession  <a id="b11"></a></h4><p><code>getSession</code>은 특정 필터링, sorting때 poll데이터(UI용 데이터)를 변경하기 위한 Saga함수입니다.</p>
<p>역시 XHR(비동기) 요청을 해야하기 때문에 Saga함수를 이용하였습니다. 리덕스 스토어에 저장된 필터 조건을 이용하여 필터링된 새로운 response를 poll 스토어에 저장합니다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span>* <span class="title">getSession</span>(<span class="params">action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> put(&#123; <span class="attr">type</span>: TOGGLE_POLL_STATUS &#125;);</span><br><span class="line">  <span class="keyword">if</span> (action.loader) <span class="keyword">yield</span> put(toggleFliterLoader());</span><br><span class="line">  <span class="keyword">const</span> sessionKey = <span class="keyword">yield</span> select(<span class="function">(<span class="params">&#123; session &#125;</span>) =&gt;</span> session.sessionKey);</span><br><span class="line">  <span class="keyword">const</span> filterOption = <span class="keyword">yield</span> select(<span class="function">(<span class="params">&#123; session &#125;</span>) =&gt;</span> session.filterOption);</span><br><span class="line">  <span class="keyword">const</span> isDirect = <span class="keyword">yield</span> select(<span class="function">(<span class="params">&#123; session &#125;</span>) =&gt;</span> session.isDirect);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> newFilter = &#123;</span><br><span class="line">    ...filterOption</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">if</span> (isDirect) &#123;</span><br><span class="line">    newFilter.stops = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">yield</span> call(</span><br><span class="line">      SessionService.pollSession,</span><br><span class="line">      sessionKey,</span><br><span class="line">      newFilter</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (action.loader) <span class="keyword">yield</span> put(toggleFliterLoader());</span><br><span class="line">    <span class="keyword">yield</span> put(setPollResult(data));</span><br><span class="line">    <span class="keyword">yield</span> put(&#123; <span class="attr">type</span>: SET_TICKETS &#125;);</span><br><span class="line">    <span class="keyword">yield</span> put(&#123; <span class="attr">type</span>: TOGGLE_POLL_STATUS &#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="filter-옵션"><a href="#filter-옵션" class="headerlink" title="filter 옵션  "></a>filter 옵션  <a id="b12"></a></h3><h4 id="stop-filter"><a href="#stop-filter" class="headerlink" title="stop filter  "></a>stop filter  <a id="b13"></a></h4><p><img src="https://user-images.githubusercontent.com/31315644/76090696-5bd1d980-5fff-11ea-8d46-afff41cedc4a.jpeg" alt="stops"></p>
<ul>
<li>지역 상태를 만들고 리덕스의 상태에 따라 업데이트 하도록 설계하였습니다.</li>
<li>기존의 스카이스캐너에서는 직항, 1회경유, 2회경유 이상을 제공했지만 Rapid Api에서는 조건을 다르게 제공해서 Radio버튼식으로 구현하였습니다.</li>
<li>편도일 경우, 티켓 한장의 경유에 대한 최저가를 표시하였습니다.</li>
<li>왕복일 경우, 티켓 한장 중 출국,귀국에 대해서 직항이면 출귀국 모두 직항인 최저가를, 1회경유라면 출귀국 모두 1회경유인 최저가를 표시하였습니다.</li>
<li>경유가 모두일 때에는 직항, 최대 1회경유중 가장 적은 금액을 표시하였습니다.</li>
<li>최저가의 값은 소수점은 버린 후 1000원단위로 콤마를 찍어서 표시하였습니다.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> StopFilter = React.memo(<span class="function">(<span class="params">&#123; session, setFilter &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [drop, setDrop] = useState(<span class="literal">true</span>);</span><br><span class="line">  <span class="keyword">const</span> [stopLists, setStopLists] = useState([]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> getStops = useCallback(</span><br><span class="line">    (&#123; Itineraries, Legs, Segments &#125;) =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> DirectStopList = [];</span><br><span class="line">      <span class="keyword">const</span> OneOverStopList = [];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; Itineraries.length; i++) &#123;</span><br><span class="line">        ticketLists(Itineraries[i]);</span><br><span class="line">        <span class="keyword">if</span> (DirectStopList.length &amp;&amp; OneOverStopList.length) <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">ticketLists</span>(<span class="params">itinerary</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; PricingOptions, OutboundLegId, InboundLegId &#125; = itinerary;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// get Outbound Leg</span></span><br><span class="line">        <span class="keyword">let</span> OutboundLeg;</span><br><span class="line">        Legs.forEach(<span class="function"><span class="params">leg</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (leg.Directionality === <span class="string">'Outbound'</span> &amp;&amp; leg.Id === OutboundLegId) &#123;</span><br><span class="line">            OutboundLeg = &#123; ...leg &#125;;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// get Outbound segments</span></span><br><span class="line">        <span class="keyword">const</span> OutboundSegments = [];</span><br><span class="line">        OutboundLeg.SegmentIds.forEach(<span class="function"><span class="params">id</span> =&gt;</span> &#123;</span><br><span class="line">          OutboundSegments.push(&#123; ...Segments[id] &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        OutboundLeg.Segments = OutboundSegments;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> ticket = &#123;</span><br><span class="line">          PricingOptions,</span><br><span class="line">          OutboundLeg</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// get Inbound Leg (왕복이라면)</span></span><br><span class="line">        <span class="keyword">if</span> (InboundLegId) &#123;</span><br><span class="line">          <span class="keyword">let</span> InboundLeg;</span><br><span class="line">          Legs.forEach(<span class="function"><span class="params">leg</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (leg.Directionality === <span class="string">'Inbound'</span> &amp;&amp; leg.Id === InboundLegId) &#123;</span><br><span class="line">              InboundLeg = &#123; ...leg &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line"></span><br><span class="line">          <span class="keyword">const</span> InboundSegments = [];</span><br><span class="line">          InboundLeg.SegmentIds.forEach(<span class="function"><span class="params">id</span> =&gt;</span> &#123;</span><br><span class="line">            InboundSegments.push(&#123; ...Segments[id] &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">          InboundLeg.Segments = InboundSegments;</span><br><span class="line"></span><br><span class="line">          ticket.InboundLeg = InboundLeg;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (</span><br><span class="line">            ticket.OutboundLeg.Stops.length === ticket.InboundLeg.Stops.length</span><br><span class="line">          ) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ticket.OutboundLeg.Stops.length === <span class="number">0</span>) &#123;</span><br><span class="line">              <span class="keyword">if</span> (DirectStopList.length === <span class="number">0</span>) DirectStopList.push(ticket);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (ticket.OutboundLeg.Stops.length === <span class="number">1</span>) &#123;</span><br><span class="line">              <span class="keyword">if</span> (OneOverStopList.length === <span class="number">0</span>) OneOverStopList.push(ticket);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (ticket.OutboundLeg.Stops.length === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (DirectStopList.length === <span class="number">0</span>) DirectStopList.push(ticket);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">if</span> (ticket.OutboundLeg.Stops.length === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (OneOverStopList.length === <span class="number">0</span>) OneOverStopList.push(ticket);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">numberWithCommas</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x.toString().replace(<span class="regexp">/\B(?=(\d&#123;3&#125;)+(?!\d))/g</span>, <span class="string">','</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">allStopPrice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (DirectStopList.length &gt; <span class="number">0</span> &amp;&amp; OneOverStopList.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">const</span> OneOverPrice = OneOverStopList[<span class="number">0</span>].PricingOptions[<span class="number">0</span>].Price;</span><br><span class="line">          <span class="keyword">const</span> DirectPrice = DirectStopList[<span class="number">0</span>].PricingOptions[<span class="number">0</span>].Price;</span><br><span class="line">          <span class="keyword">return</span> OneOverPrice &lt; DirectPrice</span><br><span class="line">            ? <span class="string">`₩ <span class="subst">$&#123;numberWithCommas(<span class="built_in">Math</span>.floor(OneOverPrice))&#125;</span>`</span></span><br><span class="line">            : <span class="string">`₩ <span class="subst">$&#123;numberWithCommas(<span class="built_in">Math</span>.floor(DirectPrice))&#125;</span>`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (DirectStopList.length &gt; <span class="number">0</span> &amp;&amp; OneOverStopList.length === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">const</span> DirectPrice = DirectStopList[<span class="number">0</span>].PricingOptions[<span class="number">0</span>].Price;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">`₩ <span class="subst">$&#123;numberWithCommas(<span class="built_in">Math</span>.floor(DirectPrice))&#125;</span>`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (DirectStopList.length === <span class="number">0</span> &amp;&amp; OneOverStopList.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">const</span> OneOverPrice = OneOverStopList[<span class="number">0</span>].PricingOptions[<span class="number">0</span>].Price;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">`₩ <span class="subst">$&#123;numberWithCommas(<span class="built_in">Math</span>.floor(OneOverPrice))&#125;</span>`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (DirectStopList.length === <span class="number">0</span> &amp;&amp; OneOverStopList.length === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (Itineraries.length === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'없음'</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">`₩ <span class="subst">$&#123;numberWithCommas(</span></span></span><br><span class="line"><span class="string"><span class="subst">              <span class="built_in">Math</span>.floor(Itineraries[<span class="number">0</span>].PricingOptions[<span class="number">0</span>].Price)</span></span></span><br><span class="line"><span class="string"><span class="subst">            )&#125;</span>`</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'없음'</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> stops = [</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="string">'직항'</span>,</span><br><span class="line">          checked: session.filterOption.stops === <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>,</span><br><span class="line">          price:</span><br><span class="line">            DirectStopList.length &gt;= <span class="number">1</span></span><br><span class="line">              ? <span class="string">`₩ <span class="subst">$&#123;numberWithCommas(</span></span></span><br><span class="line"><span class="string"><span class="subst">                  <span class="built_in">Math</span>.floor(DirectStopList[<span class="number">0</span>].PricingOptions[<span class="number">0</span>].Price)</span></span></span><br><span class="line"><span class="string"><span class="subst">                )&#125;</span>`</span></span><br><span class="line">              : <span class="string">'없음'</span>,</span><br><span class="line">          disabled: DirectStopList.length === <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="string">'최대 1회 경유'</span>,</span><br><span class="line">          checked: session.filterOption.stops === <span class="number">1</span> ? <span class="literal">true</span> : <span class="literal">false</span>,</span><br><span class="line">          price:</span><br><span class="line">            OneOverStopList.length &gt;= <span class="number">1</span></span><br><span class="line">              ? <span class="string">`₩ <span class="subst">$&#123;numberWithCommas(</span></span></span><br><span class="line"><span class="string"><span class="subst">                  <span class="built_in">Math</span>.floor(OneOverStopList[<span class="number">0</span>].PricingOptions[<span class="number">0</span>].Price)</span></span></span><br><span class="line"><span class="string"><span class="subst">                )&#125;</span>`</span></span><br><span class="line">              : <span class="string">'없음'</span>,</span><br><span class="line">          disabled: OneOverStopList.length === <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="string">'모두'</span>,</span><br><span class="line">          checked: session.filterOption.stops === <span class="literal">undefined</span> ? <span class="literal">true</span> : <span class="literal">false</span>,</span><br><span class="line">          price: allStopPrice(),</span><br><span class="line">          disabled: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> stops;</span><br><span class="line">    &#125;,</span><br><span class="line">    [session.filterOption.stops]</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setStopLists(getStops(session.allResult));</span><br><span class="line">  &#125;, [getStops, session.allResult]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> onChange = <span class="function"><span class="params">stopList</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (stopList.id === <span class="string">'직항'</span>) &#123;</span><br><span class="line">      setFilter(&#123; ...session.filterOption, <span class="attr">stops</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (stopList.id === <span class="string">'최대 1회 경유'</span>) &#123;</span><br><span class="line">      setFilter(&#123; ...session.filterOption, <span class="attr">stops</span>: <span class="number">1</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (stopList.id === <span class="string">'모두'</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; stops, ...filterOption &#125; = session.filterOption;</span><br><span class="line">      setFilter(&#123; ...filterOption &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> switchDrop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setDrop(!drop);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">		...</span><br><span class="line">        &lt;FilterWrapperDd&gt;</span><br><span class="line">          &lt;FilterDropDiv drop=&#123;drop&#125;&gt;</span><br><span class="line">            &#123;stopLists.map(<span class="function"><span class="params">stopList</span> =&gt;</span> (</span><br><span class="line">              &lt;OptionHeader key=&#123;uuid.v4()&#125; zero=&#123;stopList.disabled&#125;&gt;</span><br><span class="line">                &lt;StyleCheckBox</span><br><span class="line">                  onChange=&#123;() =&gt; &#123;</span><br><span class="line">                    <span class="keyword">if</span> (stopList.checked) <span class="keyword">return</span>;</span><br><span class="line">                    onChange(stopList);</span><br><span class="line">                  &#125;&#125;</span><br><span class="line">                  checked=&#123;stopList.checked&#125;</span><br><span class="line">                  disabled=&#123;stopList.disabled ? <span class="literal">true</span> : <span class="literal">false</span>&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                  &#123;stopList.id&#125;</span><br><span class="line">                &lt;<span class="regexp">/StyleCheckBox&gt;</span></span><br><span class="line"><span class="regexp">                &lt;OptionContent zero=&#123;stopList.disabled&#125;&gt;</span></span><br><span class="line"><span class="regexp">                  &#123;stopList.price&#125;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>OptionContent&gt;</span><br><span class="line">              &lt;<span class="regexp">/OptionHeader&gt;</span></span><br><span class="line"><span class="regexp">            ))&#125;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>FilterDropDiv&gt;</span><br><span class="line">        &lt;<span class="regexp">/FilterWrapperDd&gt;</span></span><br><span class="line"><span class="regexp">    ...</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const mapStateToProps = state =&gt; (&#123;</span></span><br><span class="line"><span class="regexp">  session: state.session</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const mapDispatchToProps = dispatch =&gt; (&#123;</span></span><br><span class="line"><span class="regexp">  setFilter: filterOption =&gt; &#123;</span></span><br><span class="line"><span class="regexp">    dispatch(setFilterOption(filterOption));</span></span><br><span class="line"><span class="regexp">    dispatch(pollSession(true));</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default connect(mapStateToProps, mapDispatchToProps)(StopFilter);</span></span><br></pre></td></tr></table></figure>

<br>

<h4 id="Time-filter"><a href="#Time-filter" class="headerlink" title="Time filter  "></a>Time filter  <a id="b14"></a></h4><p><img src="https://user-images.githubusercontent.com/31315644/76090698-5bd1d980-5fff-11ea-8875-e445cc14ec39.jpeg" alt="time"></p>
<ul>
<li>가는날 오는날 전부 초기상태가 오전 12시 ~ 오후 11시 59분으로 맞춰져 있습니다.</li>
<li>슬라이더 status를 기준으로 2%당 시간 30분으로 잡았고 최대는 100%가 아닌 98%로 놓음으로서 총 24시간을 구현하였습니다.</li>
<li>절반 상태인 12시가 될 경우 오전 -&gt; 오후로 바뀌게끔 설정하였습니다.</li>
<li>그리고 제일 끝인 오후12시는 11시 59분으로 맨 앞은 오전 12시로 설정하였습니다.</li>
<li>한자리 숫자(0)으로 표기 되는 경유 강제로 ‘00’으로 붙게끔 조건을 두었습니다.</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> TimeFilter = <span class="function">(<span class="params">&#123; session, setFilterOption &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [drop, setDrop] = useState(<span class="literal">true</span>);</span><br><span class="line">  <span class="keyword">const</span> [outBoundMinTime, setOutBoundMinTime] = useState(<span class="string">'오전 12:00'</span>);</span><br><span class="line">  <span class="keyword">const</span> [outBoundMaxTime, setOutBoundMaxTime] = useState(<span class="string">'오후 11:59'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> [inBoundMinTime, setInBoundMinTime] = useState(<span class="string">'오전 12:00'</span>);</span><br><span class="line">  <span class="keyword">const</span> [inBoundMaxTime, setInBoundMaxTime] = useState(<span class="string">'오후 11:59'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> getTime = <span class="function">(<span class="params">persent, day</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (day) &#123;</span><br><span class="line">      <span class="keyword">const</span> time = persent * <span class="number">15</span>;</span><br><span class="line">      <span class="keyword">let</span> date = <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">let</span> hour = <span class="string">'0'</span>;</span><br><span class="line">      <span class="keyword">let</span> minute = <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">if</span> (time &gt;= <span class="number">750</span>) &#123;</span><br><span class="line">        date = <span class="string">'오후'</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        date = <span class="string">'오전'</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (time &gt;= <span class="number">60</span>) &#123;</span><br><span class="line">        hour = <span class="built_in">Math</span>.floor(time / <span class="number">60</span>);</span><br><span class="line">        minute = time % <span class="number">60</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        minute = time;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> answer = <span class="string">`<span class="subst">$&#123;date&#125;</span> <span class="subst">$&#123;persent &gt; <span class="number">48</span> ? (hour = hour - <span class="number">12</span>) : hour&#125;</span>:<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">        minute === <span class="number">0</span> ? <span class="string">'00'</span> : minute</span></span></span><br><span class="line"><span class="string"><span class="subst">      &#125;</span>`</span>;</span><br><span class="line">      <span class="keyword">if</span> (persent === <span class="number">48</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'오후 12:00'</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (answer === <span class="string">'오전 0:00'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'오전 12:00'</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> answer;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> time = persent * <span class="number">15</span>;</span><br><span class="line">      <span class="keyword">let</span> date = <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">let</span> hour = <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">let</span> minute = <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">if</span> (time &lt; <span class="number">750</span>) &#123;</span><br><span class="line">        date = <span class="string">'오전'</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        date = <span class="string">'오후'</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (time &gt;= <span class="number">60</span>) &#123;</span><br><span class="line">        hour = <span class="built_in">Math</span>.floor(time / <span class="number">60</span>);</span><br><span class="line">        minute = time % <span class="number">60</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        minute = time;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> answer = <span class="string">`<span class="subst">$&#123;date&#125;</span> <span class="subst">$&#123;persent &lt; <span class="number">48</span> ? hour : hour - <span class="number">12</span>&#125;</span>:<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">        minute === <span class="number">0</span> ? <span class="string">'00'</span> : minute</span></span></span><br><span class="line"><span class="string"><span class="subst">      &#125;</span>`</span>;</span><br><span class="line">      <span class="keyword">if</span> (persent === <span class="number">48</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'오후 12:00'</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (answer === <span class="string">'오후 12:00'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'오후 11:59'</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> answer;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> parseString = <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">`<span class="subst">$&#123;data&#125;</span>`</span>.length === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`0<span class="subst">$&#123;data&#125;</span>`</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;data&#125;</span>`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> slideAfterOutBoundChange = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> minHour = +(outBoundMinTime.substring(<span class="number">3</span>, <span class="number">5</span>)[<span class="number">1</span>] === <span class="string">':'</span></span><br><span class="line">      ? outBoundMinTime.substring(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">      : outBoundMinTime.substring(<span class="number">3</span>, <span class="number">5</span>));</span><br><span class="line">    <span class="keyword">const</span> minMinute = outBoundMinTime.slice(<span class="number">-2</span>);</span><br><span class="line">    <span class="keyword">const</span> maxHour = +(outBoundMaxTime.substring(<span class="number">3</span>, <span class="number">5</span>)[<span class="number">1</span>] === <span class="string">':'</span></span><br><span class="line">      ? outBoundMaxTime.substring(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">      : outBoundMaxTime.substring(<span class="number">3</span>, <span class="number">5</span>));</span><br><span class="line">    <span class="keyword">const</span> maxMinute = outBoundMaxTime.slice(<span class="number">-2</span>);</span><br><span class="line">    <span class="keyword">const</span> newFilterOption = &#123;</span><br><span class="line">      ...session.filterOption,</span><br><span class="line">      outboundDepartStartTime:</span><br><span class="line">        outBoundMinTime.substring(<span class="number">0</span>, <span class="number">2</span>) === <span class="string">'오후'</span></span><br><span class="line">          ? <span class="string">`<span class="subst">$&#123;minHour + <span class="number">12</span>&#125;</span>:<span class="subst">$&#123;minMinute&#125;</span>`</span></span><br><span class="line">          : <span class="string">`<span class="subst">$&#123;parseString(minHour)&#125;</span>:<span class="subst">$&#123;minMinute&#125;</span>`</span>,</span><br><span class="line">      outboundDepartEndTime:</span><br><span class="line">        outBoundMaxTime.substring(<span class="number">0</span>, <span class="number">2</span>) === <span class="string">'오후'</span></span><br><span class="line">          ? <span class="string">`<span class="subst">$&#123;maxHour + <span class="number">12</span>&#125;</span>:<span class="subst">$&#123;maxMinute&#125;</span>`</span></span><br><span class="line">          : <span class="string">`<span class="subst">$&#123;parseString(maxHour)&#125;</span>:<span class="subst">$&#123;maxMinute&#125;</span>`</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    setFilterOption(newFilterOption);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> slideOutBoundChange = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    setOutBoundMinTime(getTime(e[<span class="number">0</span>], <span class="literal">true</span>));</span><br><span class="line">    setOutBoundMaxTime(getTime(e[<span class="number">1</span>], <span class="literal">false</span>));</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> slideAfterInBoundChange = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> minHour = +(inBoundMinTime.substring(<span class="number">3</span>, <span class="number">5</span>)[<span class="number">1</span>] === <span class="string">':'</span></span><br><span class="line">      ? inBoundMinTime.substring(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">      : inBoundMinTime.substring(<span class="number">3</span>, <span class="number">5</span>));</span><br><span class="line">    <span class="keyword">const</span> minMinute = inBoundMinTime.slice(<span class="number">-2</span>);</span><br><span class="line">    <span class="keyword">const</span> maxHour = +(inBoundMaxTime.substring(<span class="number">3</span>, <span class="number">5</span>)[<span class="number">1</span>] === <span class="string">':'</span></span><br><span class="line">      ? inBoundMaxTime.substring(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">      : inBoundMinTime.substring(<span class="number">3</span>, <span class="number">5</span>));</span><br><span class="line">    <span class="keyword">const</span> maxMinute = inBoundMaxTime.slice(<span class="number">-2</span>);</span><br><span class="line">    <span class="keyword">const</span> newFilterOption = &#123;</span><br><span class="line">      ...session.filterOption,</span><br><span class="line">      inboundDepartStartTime:</span><br><span class="line">        inBoundMinTime.substring(<span class="number">0</span>, <span class="number">2</span>) === <span class="string">'오후'</span></span><br><span class="line">          ? <span class="string">`<span class="subst">$&#123;minHour + <span class="number">12</span> === <span class="number">24</span> ? <span class="number">23</span> : minHour + <span class="number">12</span>&#125;</span>:<span class="subst">$&#123;minMinute&#125;</span>`</span></span><br><span class="line">          : <span class="string">`<span class="subst">$&#123;parseString(minHour)&#125;</span>:<span class="subst">$&#123;minMinute&#125;</span>`</span>,</span><br><span class="line">      inboundDepartEndTime:</span><br><span class="line">        inBoundMaxTime.substring(<span class="number">0</span>, <span class="number">2</span>) === <span class="string">'오후'</span></span><br><span class="line">          ? <span class="string">`<span class="subst">$&#123;maxHour + <span class="number">12</span> === <span class="number">24</span> ? <span class="number">23</span> : maxHour + <span class="number">12</span>&#125;</span>:<span class="subst">$&#123;maxMinute&#125;</span>`</span></span><br><span class="line">          : <span class="string">`<span class="subst">$&#123;parseString(maxHour)&#125;</span>:<span class="subst">$&#123;maxMinute&#125;</span>`</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    setFilterOption(newFilterOption);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> slideInBoundChange = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    setInBoundMinTime(getTime(e[<span class="number">0</span>], <span class="literal">true</span>));</span><br><span class="line">    setInBoundMaxTime(getTime(e[<span class="number">1</span>], <span class="literal">false</span>));</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> switchDrop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setDrop(!drop);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    ...</span><br><span class="line">          &lt;FilterDropDiv drop=&#123;drop&#125;&gt;</span><br><span class="line">            &lt;OutBoundTimeDiv&gt;</span><br><span class="line">              &lt;TimeHeader&gt;가는날 출발 시간&lt;<span class="regexp">/TimeHeader&gt;</span></span><br><span class="line"><span class="regexp">              &lt;TimeContent&gt;&#123;`$&#123;outBoundMinTime&#125; - $&#123;outBoundMaxTime&#125;`&#125;&lt;/</span>TimeContent&gt;</span><br><span class="line">              &lt;StyleSliderWrapper&gt;</span><br><span class="line">                &lt;StyleSlider</span><br><span class="line">                  onAfterChange=&#123;slideAfterOutBoundChange&#125;</span><br><span class="line">                  onChange=&#123;slideOutBoundChange&#125;</span><br><span class="line">                  range</span><br><span class="line">                  step=&#123;<span class="number">2</span>&#125;</span><br><span class="line">                  min=&#123;<span class="number">0</span>&#125;</span><br><span class="line">                  max=&#123;<span class="number">96</span>&#125;</span><br><span class="line">                  tooltipVisible=&#123;<span class="literal">false</span>&#125;</span><br><span class="line">                  defaultValue=&#123;[<span class="number">0</span>, <span class="number">100</span>]&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">              &lt;<span class="regexp">/StyleSliderWrapper&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>OutBoundTimeDiv&gt;</span><br><span class="line">            &lt;InBoundTimeDiv&gt;</span><br><span class="line">              &lt;TimeHeader&gt;오는날 출발 시간&lt;<span class="regexp">/TimeHeader&gt;</span></span><br><span class="line"><span class="regexp">              &lt;TimeContent&gt;&#123;`$&#123;inBoundMinTime&#125; - $&#123;inBoundMaxTime&#125;`&#125;&lt;/</span>TimeContent&gt;</span><br><span class="line">              &lt;StyleSliderWrapper&gt;</span><br><span class="line">                &lt;StyleSlider</span><br><span class="line">                  onAfterChange=&#123;slideAfterInBoundChange&#125;</span><br><span class="line">                  onChange=&#123;slideInBoundChange&#125;</span><br><span class="line">                  range</span><br><span class="line">                  step=&#123;<span class="number">2</span>&#125;</span><br><span class="line">                  min=&#123;<span class="number">0</span>&#125;</span><br><span class="line">                  max=&#123;<span class="number">96</span>&#125;</span><br><span class="line">                  tooltipVisible=&#123;<span class="literal">false</span>&#125;</span><br><span class="line">                  defaultValue=&#123;[<span class="number">0</span>, <span class="number">100</span>]&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">              &lt;<span class="regexp">/StyleSliderWrapper&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>InBoundTimeDiv&gt;</span><br><span class="line">          &lt;<span class="regexp">/FilterDropDiv&gt;</span></span><br><span class="line"><span class="regexp">      ...</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const maptStateToProps = state =&gt; (&#123;</span></span><br><span class="line"><span class="regexp">  session: state.session</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">const mapDispatchToProps = dispatch =&gt; (&#123;</span></span><br><span class="line"><span class="regexp">  setFilterOption: filterOption =&gt; &#123;</span></span><br><span class="line"><span class="regexp">    dispatch(setFilterOption(filterOption));</span></span><br><span class="line"><span class="regexp">    dispatch(pollSession(true));</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">export default connect(maptStateToProps, mapDispatchToProps)(TimeFilter);</span></span><br></pre></td></tr></table></figure>

<br>

<h4 id="Carrier-filter"><a href="#Carrier-filter" class="headerlink" title="Carrier filter  "></a>Carrier filter  <a id="b15"></a></h4><p><img src="https://user-images.githubusercontent.com/31315644/76090682-570d2580-5fff-11ea-9575-a11852da9d81.png" alt="carrier"></p>
<ul>
<li>Carrier 리스트와 해당 Carrier에 맞는 최저가 Price를 구하는 로직을 구현하였습니다.</li>
<li>지역 상태를 두어 Redux의 filter옵션에 따라 지역상태가 바뀌게끔 설계하였습니다.</li>
<li>항공사 조합을 따로 만들지 않고 그냥 모든 항공사를 보여주도록 표기하였고 코드는 달라도 중복된 이름의 항공사의 경우 최저가가 낮은 항공사의 코드만 표시하였습니다.</li>
<li>exClude 옵션을 이용하여 사용자가 선택 해제한 항공사는 exClude 리스트에 추가됩니다.</li>
<li>만약 모두 지우기를 선택하면 모든 항공사가 exClude리스트에 추가되고, 모두 선택을 누르면 모든 exClude리스트가 완전히 삭제됩니다.</li>
<li>exClude는 문자열 형태로 코드와 코드 사이에 ‘;’을 넣어 구분합니다.</li>
<li>exClude 처리는 정규표현식을 이용하여 해결하였습니다.</li>
<li>항공기별 최저가는 티켓의 가장 최저가 첫번째에서 선별해왔고 소수점은 버린 후 1000원단위로 콤마를 찍어서 표시하였습니다.</li>
<li>모두 선택인 상태일 경우, 모두 선택을 비활성화 / 모두 해제인 상태일 경우, 모두 지우기 비활성화 </li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CarrierFilter = React.memo(<span class="function">(<span class="params">&#123; session, setFilter &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [drop, setDrop] = useState(<span class="literal">true</span>);</span><br><span class="line">  <span class="keyword">const</span> [carrierLists, setCarrierLists] = useState([]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> getCarriers = useCallback(</span><br><span class="line">    (&#123; Carriers, Itineraries, Legs, Segments &#125;) =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> CarrierList = [];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; Itineraries.length; i++) &#123;</span><br><span class="line">        CarrierList.push(ticketLists(Itineraries[i]));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">getUniqueObjectArray</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> array.filter(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> (</span><br><span class="line">            array.findIndex(<span class="function">(<span class="params">item2, j</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> item.CarrierId === item2.CarrierId;</span><br><span class="line">            &#125;) === i</span><br><span class="line">          );</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">predicate</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// key와 value를 기억하는 클로저를 반환</span></span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">item</span> =&gt;</span> item[key] === value;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">ticketLists</span>(<span class="params">itinerary</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> carrierPriceList = [];</span><br><span class="line">        <span class="keyword">const</span> &#123; PricingOptions, OutboundLegId, InboundLegId &#125; = itinerary;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// get Outbound Leg</span></span><br><span class="line">        <span class="keyword">let</span> OutboundLeg;</span><br><span class="line">        Legs.forEach(<span class="function"><span class="params">leg</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (leg.Directionality === <span class="string">'Outbound'</span> &amp;&amp; leg.Id === OutboundLegId) &#123;</span><br><span class="line">            OutboundLeg = &#123; ...leg &#125;;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// get Outbound segments</span></span><br><span class="line">        <span class="keyword">const</span> OutboundSegments = [];</span><br><span class="line">        OutboundLeg.SegmentIds.forEach(<span class="function"><span class="params">id</span> =&gt;</span> &#123;</span><br><span class="line">          OutboundSegments.push(&#123; ...Segments[id] &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        OutboundLeg.Segments = OutboundSegments;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> ticket = &#123;</span><br><span class="line">          PricingOptions,</span><br><span class="line">          OutboundLeg,</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// get Inbound Leg (왕복이라면)</span></span><br><span class="line">        <span class="keyword">if</span> (InboundLegId) &#123;</span><br><span class="line">          <span class="keyword">let</span> InboundLeg;</span><br><span class="line">          Legs.forEach(<span class="function"><span class="params">leg</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (leg.Directionality === <span class="string">'Inbound'</span> &amp;&amp; leg.Id === InboundLegId) &#123;</span><br><span class="line">              InboundLeg = &#123; ...leg &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line"></span><br><span class="line">          <span class="keyword">const</span> InboundSegments = [];</span><br><span class="line">          InboundLeg.SegmentIds.forEach(<span class="function"><span class="params">id</span> =&gt;</span> &#123;</span><br><span class="line">            InboundSegments.push(&#123; ...Segments[id] &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">          InboundLeg.Segments = InboundSegments;</span><br><span class="line"></span><br><span class="line">          ticket.InboundLeg = InboundLeg;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (</span><br><span class="line">            ticket.InboundLeg.Carriers[<span class="number">0</span>] === ticket.OutboundLeg.Carriers[<span class="number">0</span>]</span><br><span class="line">          ) &#123;</span><br><span class="line">            carrierPriceList.push(&#123;</span><br><span class="line">              Price: ticket.PricingOptions[<span class="number">0</span>].Price,</span><br><span class="line">              CarrierId: ticket.OutboundLeg.Carriers[<span class="number">0</span>],</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">return</span> carrierPriceList[<span class="number">0</span>];</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        carrierPriceList.push(&#123;</span><br><span class="line">          Price: ticket.PricingOptions[<span class="number">0</span>].Price,</span><br><span class="line">          CarrierId: ticket.OutboundLeg.Carriers[<span class="number">0</span>],</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> carrierPriceList[<span class="number">0</span>];</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">numberWithCommas</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x.toString().replace(<span class="regexp">/\B(?=(\d&#123;3&#125;)+(?!\d))/g</span>, <span class="string">','</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> _carriers = getUniqueObjectArray(CarrierList);</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">inspectChecked</span>(<span class="params">Carrier</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (session.filterOption.excludeCarriers) &#123;</span><br><span class="line">          <span class="keyword">return</span> session.filterOption.excludeCarriers.includes(Carrier.Code)</span><br><span class="line">            ? <span class="literal">false</span></span><br><span class="line">            : <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> carriers = Carriers.map(<span class="function"><span class="params">Carrier</span> =&gt;</span> (&#123;</span><br><span class="line">        id: Carrier.Id,</span><br><span class="line">        code: Carrier.Code,</span><br><span class="line">        name: Carrier.Name,</span><br><span class="line">        price:</span><br><span class="line">          _carriers.findIndex(predicate(<span class="string">'CarrierId'</span>, Carrier.Id)) !== <span class="number">-1</span> &amp;&amp;</span><br><span class="line">          numberWithCommas(</span><br><span class="line">            <span class="built_in">Math</span>.floor(</span><br><span class="line">              _carriers[_carriers.findIndex(predicate(<span class="string">'CarrierId'</span>, Carrier.Id))]</span><br><span class="line">                .Price,</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        checked: inspectChecked(Carrier),</span><br><span class="line">      &#125;))</span><br><span class="line">        .sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> a.name &lt; b.name ? <span class="number">-1</span> : a.name &gt; b.name ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">        .filter(<span class="function"><span class="params">carrier</span> =&gt;</span> carrier.price !== <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> carriers;</span><br><span class="line">    &#125;,</span><br><span class="line">    [session.filterOption.excludeCarriers],</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setCarrierLists(getCarriers(session.allResult));</span><br><span class="line">  &#125;, [getCarriers, session.allResult]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> onChange = <span class="function"><span class="params">carrierList</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (carrierList.checked) &#123;</span><br><span class="line">      <span class="comment">// true -&gt; false 상황,</span></span><br><span class="line">      setFilter(&#123;</span><br><span class="line">        ...session.filterOption,</span><br><span class="line">        excludeCarriers: session.filterOption.excludeCarriers</span><br><span class="line">          ? <span class="string">`<span class="subst">$&#123;session.filterOption.excludeCarriers&#125;</span>;<span class="subst">$&#123;carrierList.code&#125;</span>`</span></span><br><span class="line">          : <span class="string">`<span class="subst">$&#123;carrierList.code&#125;</span>`</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// false -&gt; true 상황,</span></span><br><span class="line">      <span class="keyword">const</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(carrierList.code, <span class="string">'g'</span>);</span><br><span class="line">      <span class="keyword">const</span> excludeCarrierList = session.filterOption.excludeCarriers</span><br><span class="line">        .replace(reg, <span class="string">''</span>) <span class="comment">// 1. 해당 캐리어 코드를 exclude에서 제거한다.</span></span><br><span class="line">        .replace(<span class="regexp">/[;]/g</span>, <span class="string">''</span>) <span class="comment">// 2. 모든 특수문자를 제거한다.</span></span><br><span class="line">        .replace(<span class="regexp">/(.&#123;2&#125;)/g</span>, <span class="string">'$1;'</span>);<span class="comment">//3.2글자단위로 세미콜론을 찍어준다. 단, 마지막에도 ';'가 포함됨.</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (excludeCarrierList.length &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; excludeCarriers, ...filterOption &#125; = session.filterOption;</span><br><span class="line">        setFilter(&#123;</span><br><span class="line">          ...filterOption,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        setFilter(&#123;</span><br><span class="line">          ...session.filterOption,</span><br><span class="line">          excludeCarriers: excludeCarrierList.substr(</span><br><span class="line">            <span class="number">0</span>,</span><br><span class="line">            excludeCarrierList.length - <span class="number">1</span>,</span><br><span class="line">          ), <span class="comment">// 4. 마지막의 ';'을 제거</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> switchDrop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setDrop(!drop);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> allSelect = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; excludeCarriers, ...filterOption &#125; = session.filterOption;</span><br><span class="line">    setFilter(&#123;</span><br><span class="line">      ...filterOption,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> allRemove = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> allExcludeCarrier = <span class="string">''</span>;</span><br><span class="line">    carrierLists.forEach(</span><br><span class="line">      carrierList =&gt;</span><br><span class="line">        (allExcludeCarrier = allExcludeCarrier + carrierList.code + <span class="string">';'</span>),</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    setFilter(&#123;</span><br><span class="line">      ...session.filterOption,</span><br><span class="line">      excludeCarriers: allExcludeCarrier.substr(</span><br><span class="line">        <span class="number">0</span>,</span><br><span class="line">        allExcludeCarrier.length - <span class="number">1</span>,</span><br><span class="line">      ),</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    ...</span><br><span class="line">          &lt;FilterDropDiv drop=&#123;drop&#125; allView=&#123;<span class="literal">true</span>&#125;&gt;</span><br><span class="line">            &lt;AllSelectOrRemoveDiv&gt;</span><br><span class="line">              &lt;AllSelectBtn</span><br><span class="line">                onClick=&#123;allSelect&#125;</span><br><span class="line">                disabled=&#123;</span><br><span class="line">                  !carrierLists.some(</span><br><span class="line">                    carrierList =&gt; carrierList.checked !== <span class="literal">true</span>,</span><br><span class="line">                  )</span><br><span class="line">                &#125;</span><br><span class="line">              &gt;</span><br><span class="line">                모두 선택</span><br><span class="line">              &lt;<span class="regexp">/AllSelectBtn&gt;</span></span><br><span class="line"><span class="regexp">              |</span></span><br><span class="line"><span class="regexp">              &lt;AllRemoveBtn</span></span><br><span class="line"><span class="regexp">                onClick=&#123;allRemove&#125;</span></span><br><span class="line"><span class="regexp">                disabled=&#123;</span></span><br><span class="line"><span class="regexp">                  !carrierLists.some(</span></span><br><span class="line"><span class="regexp">                    carrierList =&gt; carrierList.checked !== false,</span></span><br><span class="line"><span class="regexp">                  )</span></span><br><span class="line"><span class="regexp">                &#125;</span></span><br><span class="line"><span class="regexp">              &gt;</span></span><br><span class="line"><span class="regexp">                모두 지우기</span></span><br><span class="line"><span class="regexp">              &lt;/</span>AllRemoveBtn&gt;</span><br><span class="line">            &lt;<span class="regexp">/AllSelectOrRemoveDiv&gt;</span></span><br><span class="line"><span class="regexp">            &#123;carrierLists.map(carrierList =&gt; (</span></span><br><span class="line"><span class="regexp">              &lt;OptionHeader key=&#123;uuid.v4()&#125;&gt;</span></span><br><span class="line"><span class="regexp">                &lt;StyleCheckBox</span></span><br><span class="line"><span class="regexp">                  onChange=&#123;() =&gt; onChange(carrierList)&#125;</span></span><br><span class="line"><span class="regexp">                  checked=&#123;carrierList.checked&#125;</span></span><br><span class="line"><span class="regexp">                &gt;</span></span><br><span class="line"><span class="regexp">                  &#123;carrierList.name&#125;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>StyleCheckBox&gt;</span><br><span class="line">                &#123;<span class="built_in">console</span>.log(<span class="string">'test'</span>, carrierList.price)&#125;</span><br><span class="line">                &lt;OptionContent&gt; &#123;<span class="string">`₩ <span class="subst">$&#123;carrierList.price&#125;</span>`</span>&#125; &lt;<span class="regexp">/OptionContent&gt;</span></span><br><span class="line"><span class="regexp">              &lt;/</span>OptionHeader&gt;</span><br><span class="line">            ))&#125;</span><br><span class="line">          &lt;<span class="regexp">/FilterDropDiv&gt;</span></span><br><span class="line"><span class="regexp">          ...</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const mapStateToProps = state =&gt; (&#123;</span></span><br><span class="line"><span class="regexp">  session: state.session,</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const mapDispatchToProps = dispatch =&gt; (&#123;</span></span><br><span class="line"><span class="regexp">  setFilter: filterOption =&gt; &#123;</span></span><br><span class="line"><span class="regexp">    dispatch(setFilterOption(filterOption));</span></span><br><span class="line"><span class="regexp">    dispatch(pollSession(true));</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default connect(mapStateToProps, mapDispatchToProps)(CarrierFilter);</span></span><br></pre></td></tr></table></figure>


        </div>
        <footer class="article-footer">
            



    <a data-url="https://hyeok999.github.io/2020/03/13/FilterArea/" data-id="ck8puzkby007a94z0epbdkp58" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Jun Hyeok Kim"
        },
        "headline": "SkyPrinter-FilterArea",
        "image": "https://hyeok999.github.iohttps://user-images.githubusercontent.com/31315644/76090338-bb7bb500-5ffe-11ea-8d8e-028dc68b749a.png",
        "keywords": "git Web coding develop TIL algorithm HTML CSS javascript React Redux",
        "genre": "Develop Project",
        "datePublished": "2020-03-13",
        "dateCreated": "2020-03-13",
        "dateModified": "2020-03-14",
        "url": "https://hyeok999.github.io/2020/03/13/FilterArea/",
        "description": "


Filter 영역
SkyPrinter Ticket Result Filter Area 



SkyPrinter 바로가기

목차
Filter 폴더 구조
Filter API 알아보기 -  Poll Session Result -
Filter 방식 파악하기
Redux Module 파악하기
session module
오리지널 데이터 스토어
UI용 데이터 스토어",
        "wordCount": 10095
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="https://www.facebook.com/profile.php?id=100003801986180" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/HYEOK999" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="instagram" href="https://www.instagram.com/hyeok999/?hl=ko" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-instagram"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2020/03/13/ProgressBar/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            SkyPrinter-ProgressBar
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2020/03/12/SkyPrinter-Error/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">SkyPrinter-Error</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/">Develop</a><span class="category-list-count">75</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/CSS/">CSS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/GIT/">GIT</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/GraphQL/">GraphQL</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/IT-Event/">IT Event</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Java/">Java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Javascript/">Javascript</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Project/">Project</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/React/">React</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Tips/">Tips</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/TypeScript/">TypeScript</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/">TIL</a><span class="category-list-count">203</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/Algorithm-Quiz/">Algorithm & Quiz</a><span class="category-list-count">74</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/HTML-CSS/">HTML&CSS</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/Javascript/">Javascript</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/Javascript-Preview/">Javascript-Preview</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/React/">React</a><span class="category-list-count">31</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/React-Preview/">React-Preview</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/TypeScript/">TypeScript</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TIL/linux/">linux</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/etc/">etc</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/04/03/TypeScript-04/" class="thumbnail">
    
    
        <span style="background-image:url(https://user-images.githubusercontent.com/31315644/77824045-edd28b00-7142-11ea-83d8-b88e7cb6c97d.png)" alt="리액트 컴포넌트 타입스크립트로 작성하기" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/TIL/">TIL</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/TIL/TypeScript/">TypeScript</a></p>
                            <p class="item-title"><a href="/2020/04/03/TypeScript-04/" class="title">리액트 컴포넌트 타입스크립트로 작성하기</a></p>
                            <p class="item-date"><time datetime="2020-04-03T11:36:10.000Z" itemprop="datePublished">2020-04-03</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/03/31/TypeScript-03/" class="thumbnail">
    
    
        <span style="background-image:url(https://user-images.githubusercontent.com/31315644/77824045-edd28b00-7142-11ea-83d8-b88e7cb6c97d.png)" alt="타입스크립트 기초 연습하기 (타입 별명, 제네릭)" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/TIL/">TIL</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/TIL/TypeScript/">TypeScript</a></p>
                            <p class="item-title"><a href="/2020/03/31/TypeScript-03/" class="title">타입스크립트 기초 연습하기 (타입 별명, 제네릭)</a></p>
                            <p class="item-date"><time datetime="2020-03-31T14:42:04.000Z" itemprop="datePublished">2020-03-31</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/03/30/TypeScript-02/" class="thumbnail">
    
    
        <span style="background-image:url(https://user-images.githubusercontent.com/31315644/77824045-edd28b00-7142-11ea-83d8-b88e7cb6c97d.png)" alt="타입스크립트 기초 연습하기 (셋팅, 기본 타입, 함수타입, 인터페이스)" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/TIL/">TIL</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/TIL/TypeScript/">TypeScript</a></p>
                            <p class="item-title"><a href="/2020/03/30/TypeScript-02/" class="title">타입스크립트 기초 연습하기 (셋팅, 기본 타입, 함수타입, 인터페이스)</a></p>
                            <p class="item-date"><time datetime="2020-03-30T13:58:53.000Z" itemprop="datePublished">2020-03-30</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/03/28/TypeScript-01/" class="thumbnail">
    
    
        <span style="background-image:url(https://user-images.githubusercontent.com/31315644/77824045-edd28b00-7142-11ea-83d8-b88e7cb6c97d.png)" alt="React에서 TypeScript 사용하기" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/TIL/">TIL</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/TIL/TypeScript/">TypeScript</a></p>
                            <p class="item-title"><a href="/2020/03/28/TypeScript-01/" class="title">React에서 TypeScript 사용하기</a></p>
                            <p class="item-date"><time datetime="2020-03-28T14:16:19.000Z" itemprop="datePublished">2020-03-28</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/03/22/feed-05/" class="thumbnail">
    
    
        <span style="background-image:url(https://user-images.githubusercontent.com/31315644/77394574-12e19980-6de3-11ea-82ab-5c7da423b87d.png)" alt="FeedDetail 완성" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Develop/">Develop</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Develop/Project/">Project</a></p>
                            <p class="item-title"><a href="/2020/03/22/feed-05/" class="title">FeedDetail 완성</a></p>
                            <p class="item-date"><time datetime="2020-03-22T13:44:30.000Z" itemprop="datePublished">2020-03-22</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">38</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">47</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">37</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">86</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">38</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/Ajax/" style="font-size: 11px;">Ajax</a> <a href="/tags/Array/" style="font-size: 11.5px;">Array</a> <a href="/tags/Array-Method/" style="font-size: 10.5px;">Array Method</a> <a href="/tags/Arrow-Function/" style="font-size: 10px;">Arrow Function</a> <a href="/tags/Async/" style="font-size: 10px;">Async</a> <a href="/tags/Async-Await/" style="font-size: 10px;">Async Await</a> <a href="/tags/Axios/" style="font-size: 10px;">Axios</a> <a href="/tags/BAEKJOON/" style="font-size: 13px;">BAEKJOON</a> <a href="/tags/Browser/" style="font-size: 10px;">Browser</a> <a href="/tags/CSS/" style="font-size: 17.5px;">CSS</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/Class/" style="font-size: 10px;">Class</a> <a href="/tags/Class-Component/" style="font-size: 10px;">Class Component</a> <a href="/tags/Closer/" style="font-size: 10.5px;">Closer</a> <a href="/tags/Constructor/" style="font-size: 10px;">Constructor</a> <a href="/tags/Core-JavaScript/" style="font-size: 10px;">Core JavaScript</a> <a href="/tags/Custom-Hook/" style="font-size: 10px;">Custom Hook</a> <a href="/tags/DOM/" style="font-size: 10.5px;">DOM</a> <a href="/tags/Date/" style="font-size: 10px;">Date</a> <a href="/tags/Document-Object-Model/" style="font-size: 10.5px;">Document Object Model</a> <a href="/tags/ESLint/" style="font-size: 10px;">ESLint</a> <a href="/tags/Event/" style="font-size: 10.5px;">Event</a> <a href="/tags/Fetch/" style="font-size: 10px;">Fetch</a> <a href="/tags/Functional-Component/" style="font-size: 10.5px;">Functional Component</a> <a href="/tags/Git-GUI/" style="font-size: 10.5px;">Git GUI</a> <a href="/tags/GraphQL/" style="font-size: 10.5px;">GraphQL</a> <a href="/tags/HOF/" style="font-size: 12.5px;">HOF</a> <a href="/tags/HTML/" style="font-size: 18px;">HTML</a> <a href="/tags/Hook/" style="font-size: 10.5px;">Hook</a> <a href="/tags/HotKey/" style="font-size: 10px;">HotKey</a> <a href="/tags/JAVA/" style="font-size: 13.5px;">JAVA</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/MarkUP/" style="font-size: 10px;">MarkUP</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/Method/" style="font-size: 11.5px;">Method</a> <a href="/tags/Module/" style="font-size: 10px;">Module</a> <a href="/tags/Mutation/" style="font-size: 10px;">Mutation</a> <a href="/tags/Number/" style="font-size: 10px;">Number</a> <a href="/tags/OS/" style="font-size: 12px;">OS</a> <a href="/tags/Object/" style="font-size: 12px;">Object</a> <a href="/tags/Poiema/" style="font-size: 15px;">Poiema</a> <a href="/tags/Primary-value/" style="font-size: 10px;">Primary value</a> <a href="/tags/Programmers/" style="font-size: 15.5px;">Programmers</a> <a href="/tags/Project/" style="font-size: 10.5px;">Project</a> <a href="/tags/Promise/" style="font-size: 11.5px;">Promise</a> <a href="/tags/Property/" style="font-size: 11px;">Property</a> <a href="/tags/Prototype/" style="font-size: 10px;">Prototype</a> <a href="/tags/Query/" style="font-size: 10px;">Query</a> <a href="/tags/Quiz/" style="font-size: 12.5px;">Quiz</a> <a href="/tags/REST/" style="font-size: 10.5px;">REST</a> <a href="/tags/REST-API/" style="font-size: 10px;">REST API</a> <a href="/tags/Rapper/" style="font-size: 10px;">Rapper</a> <a href="/tags/Rapper-Object/" style="font-size: 10px;">Rapper Object</a> <a href="/tags/React/" style="font-size: 16.5px;">React</a> <a href="/tags/React-Hook/" style="font-size: 10px;">React Hook</a> <a href="/tags/React-Official-Document/" style="font-size: 14px;">React Official Document</a> <a href="/tags/Redux/" style="font-size: 14.5px;">Redux</a> <a href="/tags/RegExr/" style="font-size: 10.5px;">RegExr</a> <a href="/tags/Router/" style="font-size: 12px;">Router</a> <a href="/tags/Schema/" style="font-size: 10px;">Schema</a> <a href="/tags/Scope/" style="font-size: 10px;">Scope</a> <a href="/tags/Selector/" style="font-size: 10px;">Selector</a> <a href="/tags/SourceTree/" style="font-size: 10.5px;">SourceTree</a> <a href="/tags/Spread/" style="font-size: 10px;">Spread</a> <a href="/tags/Strict-Mode/" style="font-size: 10px;">Strict Mode</a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/Symbol/" style="font-size: 10px;">Symbol</a> <a href="/tags/TIL/" style="font-size: 17px;">TIL</a> <a href="/tags/Todo/" style="font-size: 14px;">Todo</a> <a href="/tags/Todo-List/" style="font-size: 10.5px;">Todo List</a> <a href="/tags/Type/" style="font-size: 10px;">Type</a> <a href="/tags/VSCode/" style="font-size: 11px;">VSCode</a> <a href="/tags/VScode/" style="font-size: 10px;">VScode</a> <a href="/tags/VisualStudio-Code/" style="font-size: 11px;">VisualStudio Code</a> <a href="/tags/Web/" style="font-size: 19px;">Web</a> <a href="/tags/Web-Clone/" style="font-size: 10px;">Web Clone</a> <a href="/tags/Web-clone/" style="font-size: 10px;">Web clone</a> <a href="/tags/algorithm/" style="font-size: 17px;">algorithm</a> <a href="/tags/branch/" style="font-size: 10px;">branch</a> <a href="/tags/browser/" style="font-size: 10px;">browser</a> <a href="/tags/browser-operation/" style="font-size: 10px;">browser operation</a> <a href="/tags/coding/" style="font-size: 20px;">coding</a> <a href="/tags/daily-test/" style="font-size: 11px;">daily test</a> <a href="/tags/develop/" style="font-size: 18.5px;">develop</a> <a href="/tags/first-class-Object/" style="font-size: 10px;">first-class Object</a> <a href="/tags/flow/" style="font-size: 10px;">flow</a> <a href="/tags/function/" style="font-size: 10.5px;">function</a> <a href="/tags/git/" style="font-size: 16px;">git</a> <a href="/tags/github-oAhut/" style="font-size: 10px;">github oAhut</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/inline-block/" style="font-size: 10px;">inline-block</a> <a href="/tags/interview/" style="font-size: 10px;">interview</a> <a href="/tags/iteration/" style="font-size: 10px;">iteration</a> <a href="/tags/javascript/" style="font-size: 19.5px;">javascript</a> <a href="/tags/linux/" style="font-size: 12px;">linux</a> <a href="/tags/linux-command/" style="font-size: 10px;">linux command</a> <a href="/tags/oAuth/" style="font-size: 10px;">oAuth</a> <a href="/tags/project/" style="font-size: 10px;">project</a> <a href="/tags/prototype/" style="font-size: 10px;">prototype</a> <a href="/tags/terminal/" style="font-size: 10px;">terminal</a> <a href="/tags/test/" style="font-size: 10.5px;">test</a> <a href="/tags/this/" style="font-size: 10px;">this</a> <a href="/tags/typescript/" style="font-size: 12.5px;">typescript</a> <a href="/tags/unix/" style="font-size: 11.5px;">unix</a> <a href="/tags/useCallback/" style="font-size: 10px;">useCallback</a> <a href="/tags/useReducer/" style="font-size: 10px;">useReducer</a> <a href="/tags/자바스크립트/" style="font-size: 11.5px;">자바스크립트</a> <a href="/tags/타입스크립트/" style="font-size: 11.5px;">타입스크립트</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://github.com" rel="external nofollow noopener noreferrer" target="_blank">github</a>
                    </li>
                
                    <li>
                        <a href="http://hexo.io" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a>
                    </li>
                
                    <li>
                        <a href="http://www.naver.com" rel="external nofollow noopener noreferrer" target="_blank">Naver</a>
                    </li>
                
                    <li>
                        <a href="https://google.com" rel="external nofollow noopener noreferrer" target="_blank">Google</a>
                    </li>
                
                    <li>
                        <a href="https://www.youtube.com/" rel="external nofollow noopener noreferrer" target="_blank">Youtube</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2020 Jun Hyeok Kim</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'https://hyeok999.github.io/2020/03/13/FilterArea/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>

